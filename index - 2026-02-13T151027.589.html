<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Life Simulator - Ultra Realistic Life Game</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Poppins:wght@300;400;600;700&display=swap');
        
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #ec4899;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --bg-dark: #0f172a;
            --bg-medium: #1e293b;
            --bg-light: #334155;
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --border: #475569;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Header */
        header {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 20px 60px rgba(99, 102, 241, 0.3);
            animation: slideDown 0.5s ease-out;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        h1 {
            font-family: 'Space Mono', monospace;
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        /* Game Screens */
        .screen {
            display: none;
            animation: fadeIn 0.4s ease-in;
        }
        
        .screen.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        /* Start Screen */
        .start-screen {
            text-align: center;
            padding: 60px 20px;
        }
        
        .start-screen h2 {
            font-size: 2.5rem;
            margin-bottom: 30px;
            font-family: 'Space Mono', monospace;
        }
        
        .character-creation {
            background: var(--bg-medium);
            padding: 40px;
            border-radius: 20px;
            max-width: 600px;
            margin: 0 auto;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }
        
        .form-group {
            margin-bottom: 25px;
            text-align: left;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--text-secondary);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .form-group input,
        .form-group select {
            width: 100%;
            padding: 15px;
            border: 2px solid var(--border);
            border-radius: 10px;
            background: var(--bg-dark);
            color: var(--text-primary);
            font-size: 1rem;
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s ease;
        }
        
        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }
        
        /* Buttons */
        .btn {
            padding: 15px 40px;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(99, 102, 241, 0.6);
        }
        
        .btn-secondary {
            background: var(--bg-light);
            color: var(--text-primary);
        }
        
        .btn-secondary:hover {
            background: var(--border);
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .btn-danger {
            background: var(--danger);
            color: white;
        }
        
        /* Game Screen */
        .game-layout {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 20px;
        }
        
        /* Character Panel */
        .character-panel {
            background: var(--bg-medium);
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            height: fit-content;
            position: sticky;
            top: 20px;
        }
        
        .character-info h3 {
            font-family: 'Space Mono', monospace;
            font-size: 1.5rem;
            margin-bottom: 5px;
        }
        
        .character-age {
            color: var(--text-secondary);
            margin-bottom: 20px;
            font-size: 0.9rem;
        }
        
        .stat-item {
            margin-bottom: 15px;
        }
        
        .stat-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-size: 0.85rem;
            font-weight: 600;
        }
        
        .stat-bar {
            height: 8px;
            background: var(--bg-dark);
            border-radius: 10px;
            overflow: hidden;
        }
        
        .stat-fill {
            height: 100%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }
        
        .stat-fill.health { background: var(--success); }
        .stat-fill.happiness { background: #fbbf24; }
        .stat-fill.intelligence { background: #3b82f6; }
        .stat-fill.looks { background: var(--secondary); }
        
        .money-display {
            background: var(--bg-dark);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: center;
        }
        
        .money-amount {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--success);
            font-family: 'Space Mono', monospace;
        }
        
        /* Main Game Area */
        .main-game {
            background: var(--bg-medium);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }
        
        .life-stage {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            padding: 15px 25px;
            border-radius: 10px;
            margin-bottom: 25px;
            text-align: center;
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        /* Events Log */
        .events-log {
            background: var(--bg-dark);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 25px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .events-log::-webkit-scrollbar {
            width: 8px;
        }
        
        .events-log::-webkit-scrollbar-track {
            background: var(--bg-medium);
            border-radius: 10px;
        }
        
        .events-log::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 10px;
        }
        
        .event-item {
            padding: 12px;
            margin-bottom: 10px;
            background: var(--bg-medium);
            border-radius: 10px;
            border-left: 4px solid var(--primary);
            animation: slideInRight 0.3s ease-out;
        }
        
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .event-item.important {
            border-left-color: var(--warning);
            background: rgba(245, 158, 11, 0.1);
        }
        
        .event-item.critical {
            border-left-color: var(--danger);
            background: rgba(239, 68, 68, 0.1);
        }
        
        .event-item.positive {
            border-left-color: var(--success);
            background: rgba(16, 185, 129, 0.1);
        }
        
        /* Activities Grid */
        .activities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .activity-card {
            background: var(--bg-dark);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .activity-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.3);
        }
        
        .activity-card.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .activity-card.disabled:hover {
            transform: none;
            border-color: transparent;
            box-shadow: none;
        }
        
        .activity-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .activity-name {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .activity-desc {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }
        
        .activity-cost {
            font-size: 0.75rem;
            color: var(--danger);
            margin-top: 5px;
        }
        
        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: var(--bg-medium);
            padding: 40px;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            animation: scaleIn 0.3s ease;
        }
        
        @keyframes scaleIn {
            from {
                transform: scale(0.8);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }
        
        .modal-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            font-family: 'Space Mono', monospace;
        }
        
        .modal-text {
            margin-bottom: 25px;
            line-height: 1.6;
        }
        
        .modal-choices {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .choice-btn {
            padding: 15px;
            background: var(--bg-dark);
            border: 2px solid var(--border);
            border-radius: 10px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
        }
        
        .choice-btn:hover {
            border-color: var(--primary);
            background: var(--bg-light);
            transform: translateX(5px);
        }
        
        /* Relationships */
        .relationships {
            background: var(--bg-dark);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 25px;
        }
        
        .relationship-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background: var(--bg-medium);
            border-radius: 10px;
            margin-bottom: 10px;
        }
        
        .relationship-info {
            flex: 1;
        }
        
        .relationship-name {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .relationship-type {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }
        
        .relationship-level {
            font-size: 0.9rem;
            padding: 5px 15px;
            background: var(--bg-dark);
            border-radius: 20px;
        }
        
        /* Achievements */
        .achievement-popup {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, var(--warning) 0%, var(--secondary) 100%);
            padding: 20px 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            z-index: 999;
            animation: slideInFromRight 0.5s ease-out;
            display: none;
        }
        
        @keyframes slideInFromRight {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        .achievement-popup.show {
            display: block;
        }
        
        .achievement-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .achievement-desc {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        /* Responsive */
        @media (max-width: 968px) {
            .game-layout {
                grid-template-columns: 1fr;
            }
            
            .character-panel {
                position: relative;
                top: 0;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .activities-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
        }
        
        /* Death Screen */
        .death-screen {
            text-align: center;
            padding: 60px 20px;
        }
        
        .death-screen h2 {
            font-size: 3rem;
            margin-bottom: 20px;
            font-family: 'Space Mono', monospace;
        }
        
        .death-stats {
            background: var(--bg-medium);
            padding: 40px;
            border-radius: 20px;
            max-width: 600px;
            margin: 30px auto;
        }
        
        .stat-summary {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .summary-item {
            background: var(--bg-dark);
            padding: 20px;
            border-radius: 10px;
        }
        
        .summary-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }
        
        .summary-value {
            font-size: 1.5rem;
            font-weight: 700;
            font-family: 'Space Mono', monospace;
        }
        
        .achievements-list {
            background: var(--bg-dark);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: left;
        }
        
        .achievements-list h4 {
            margin-bottom: 15px;
        }
        
        .achievement-badge {
            display: inline-block;
            padding: 8px 15px;
            background: var(--bg-light);
            border-radius: 20px;
            margin: 5px;
            font-size: 0.85rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>‚ö° LIFE SIMULATOR ‚ö°</h1>
            <p class="subtitle">Experience the most realistic life simulation ever created</p>
        </header>

        <!-- Start Screen -->
        <div id="startScreen" class="screen active">
            <div class="start-screen">
                <h2>Begin Your Life</h2>
                <div class="character-creation">
                    <div class="form-group">
                        <label>Your Name</label>
                        <input type="text" id="characterName" placeholder="Enter your name">
                    </div>
                    <div class="form-group">
                        <label>Gender</label>
                        <select id="characterGender">
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Country of Birth</label>
                        <select id="characterCountry">
                            <option value="usa">United States</option>
                            <option value="uk">United Kingdom</option>
                            <option value="canada">Canada</option>
                            <option value="australia">Australia</option>
                            <option value="germany">Germany</option>
                            <option value="france">France</option>
                            <option value="japan">Japan</option>
                            <option value="india">India</option>
                            <option value="brazil">Brazil</option>
                            <option value="mexico">Mexico</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" onclick="startGame()">Start Life</button>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="gameScreen" class="screen">
            <div class="game-layout">
                <!-- Character Panel -->
                <div class="character-panel">
                    <div class="character-info">
                        <h3 id="charName">-</h3>
                        <div class="character-age">
                            <span id="charAge">0</span> years old
                        </div>
                    </div>
                    
                    <div class="stats">
                        <div class="stat-item">
                            <div class="stat-label">
                                <span>‚ù§Ô∏è Health</span>
                                <span id="healthValue">100</span>
                            </div>
                            <div class="stat-bar">
                                <div class="stat-fill health" id="healthBar" style="width: 100%"></div>
                            </div>
                        </div>
                        
                        <div class="stat-item">
                            <div class="stat-label">
                                <span>üòä Happiness</span>
                                <span id="happinessValue">100</span>
                            </div>
                            <div class="stat-bar">
                                <div class="stat-fill happiness" id="happinessBar" style="width: 100%"></div>
                            </div>
                        </div>
                        
                        <div class="stat-item">
                            <div class="stat-label">
                                <span>üß† Intelligence</span>
                                <span id="intelligenceValue">50</span>
                            </div>
                            <div class="stat-bar">
                                <div class="stat-fill intelligence" id="intelligenceBar" style="width: 50%"></div>
                            </div>
                        </div>
                        
                        <div class="stat-item">
                            <div class="stat-label">
                                <span>‚ú® Looks</span>
                                <span id="looksValue">50</span>
                            </div>
                            <div class="stat-bar">
                                <div class="stat-fill looks" id="looksBar" style="width: 50%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="money-display">
                        <div style="font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 5px;">Net Worth</div>
                        <div class="money-amount" id="moneyAmount">$0</div>
                    </div>
                    
                    <div id="relationshipsPanel" class="relationships" style="margin-top: 20px; display: none;">
                        <h4 style="margin-bottom: 15px;">Relationships</h4>
                        <div id="relationshipsList"></div>
                    </div>
                </div>

                <!-- Main Game Area -->
                <div class="main-game">
                    <div class="life-stage" id="lifeStage">üë∂ Infant</div>
                    
                    <div class="events-log" id="eventsLog">
                        <div class="event-item">Welcome to your new life! Your journey begins now...</div>
                    </div>
                    
                    <div id="activitiesSection">
                        <h3 style="margin-bottom: 20px;">Activities</h3>
                        <div class="activities-grid" id="activitiesGrid"></div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="ageUp()">üìÖ Age Up (1 Year)</button>
                        <button class="btn btn-secondary" onclick="showRelationships()">üë• Relationships</button>
                        <button class="btn btn-secondary" onclick="showCareer()">üíº Career</button>
                        <button class="btn btn-secondary" onclick="showAssets()">üè† Assets</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Death Screen -->
        <div id="deathScreen" class="screen">
            <div class="death-screen">
                <h2>üíÄ Life Complete üíÄ</h2>
                <div class="death-stats">
                    <h3 id="deathMessage" style="margin-bottom: 30px; font-size: 1.3rem;"></h3>
                    <div class="stat-summary">
                        <div class="summary-item">
                            <div class="summary-label">Lived To</div>
                            <div class="summary-value" id="finalAge">-</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Net Worth</div>
                            <div class="summary-value" id="finalMoney">-</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Career</div>
                            <div class="summary-value" id="finalCareer">-</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Happiness</div>
                            <div class="summary-value" id="finalHappiness">-</div>
                        </div>
                    </div>
                    <div id="achievementsList" class="achievements-list">
                        <h4>üèÜ Achievements Unlocked</h4>
                        <div id="achievementsBadges"></div>
                    </div>
                    <button class="btn btn-primary" onclick="location.reload()">Start New Life</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Events -->
    <div id="eventModal" class="modal">
        <div class="modal-content">
            <h3 class="modal-title" id="modalTitle">Event</h3>
            <p class="modal-text" id="modalText"></p>
            <div class="modal-choices" id="modalChoices"></div>
        </div>
    </div>

    <!-- Achievement Popup -->
    <div id="achievementPopup" class="achievement-popup">
        <div class="achievement-title">üèÜ Achievement Unlocked!</div>
        <div class="achievement-desc" id="achievementDesc"></div>
    </div>

    <script>
        // Game State
        let gameState = {
            name: '',
            gender: '',
            country: '',
            age: 0,
            health: 100,
            happiness: 100,
            intelligence: 50,
            looks: 50,
            money: 0,
            education: '',
            career: '',
            careerLevel: 0,
            salary: 0,
            relationships: [],
            events: [],
            achievements: [],
            assets: [],
            isDead: false,
            married: false,
            hasKids: false
        };

        // Life Stages
        const lifeStages = {
            0: { name: 'üë∂ Infant', activities: ['cry', 'sleep', 'play'] },
            2: { name: 'üëß Toddler', activities: ['play', 'learn', 'sleep'] },
            5: { name: 'üßí Child', activities: ['study', 'play', 'sports', 'music'] },
            13: { name: 'üßë Teenager', activities: ['study', 'socialize', 'sports', 'music', 'partTime'] },
            18: { name: 'üéì Young Adult', activities: ['study', 'work', 'socialize', 'gym', 'date', 'travel'] },
            25: { name: 'üëî Adult', activities: ['work', 'socialize', 'gym', 'date', 'invest', 'business'] },
            40: { name: 'üßì Middle Aged', activities: ['work', 'family', 'invest', 'health', 'business'] },
            65: { name: 'üë¥ Senior', activities: ['retire', 'family', 'health', 'hobbies', 'travel'] }
        };

        // Activities Database
        const activities = {
            cry: { 
                name: 'üò≠ Cry', 
                icon: 'üò≠', 
                desc: 'Express your needs',
                effects: { happiness: -5 },
                cost: 0
            },
            sleep: { 
                name: 'üò¥ Sleep', 
                icon: 'üò¥', 
                desc: 'Rest and recover',
                effects: { health: 5, happiness: 5 },
                cost: 0
            },
            play: { 
                name: 'üéÆ Play', 
                icon: 'üéÆ', 
                desc: 'Have fun!',
                effects: { happiness: 10 },
                cost: 0
            },
            learn: { 
                name: 'üìö Learn', 
                icon: 'üìö', 
                desc: 'Develop skills',
                effects: { intelligence: 5 },
                cost: 0
            },
            study: { 
                name: 'üìñ Study', 
                icon: 'üìñ', 
                desc: 'Study hard',
                effects: { intelligence: 10, happiness: -5 },
                cost: 0
            },
            socialize: { 
                name: 'üéâ Socialize', 
                icon: 'üéâ', 
                desc: 'Make friends',
                effects: { happiness: 15 },
                cost: 100
            },
            sports: { 
                name: '‚öΩ Sports', 
                icon: '‚öΩ', 
                desc: 'Stay active',
                effects: { health: 10, looks: 5, happiness: 5 },
                cost: 0
            },
            music: { 
                name: 'üéµ Music', 
                icon: 'üéµ', 
                desc: 'Practice music',
                effects: { happiness: 10, intelligence: 5 },
                cost: 0
            },
            partTime: { 
                name: 'üí∞ Part-Time Job', 
                icon: 'üí∞', 
                desc: 'Earn pocket money',
                effects: { money: 500, happiness: -5 },
                cost: 0
            },
            work: { 
                name: 'üíº Work', 
                icon: 'üíº', 
                desc: 'Work hard',
                effects: { money: 'salary', happiness: -10 },
                cost: 0
            },
            gym: { 
                name: 'üí™ Gym', 
                icon: 'üí™', 
                desc: 'Get fit',
                effects: { health: 15, looks: 10, happiness: 5 },
                cost: 50
            },
            date: { 
                name: '‚ù§Ô∏è Date', 
                icon: '‚ù§Ô∏è', 
                desc: 'Find love',
                effects: { happiness: 20 },
                cost: 200
            },
            invest: { 
                name: 'üìà Invest', 
                icon: 'üìà', 
                desc: 'Grow wealth',
                effects: { money: 'investment' },
                cost: 1000
            },
            family: { 
                name: 'üë®‚Äçüë©‚Äçüëß Family Time', 
                icon: 'üë®‚Äçüë©‚Äçüëß', 
                desc: 'Spend time with loved ones',
                effects: { happiness: 20 },
                cost: 0
            },
            health: { 
                name: 'üè• Health Checkup', 
                icon: 'üè•', 
                desc: 'Visit doctor',
                effects: { health: 20 },
                cost: 200
            },
            retire: { 
                name: 'üèñÔ∏è Retirement', 
                icon: 'üèñÔ∏è', 
                desc: 'Enjoy retirement',
                effects: { happiness: 15 },
                cost: 0
            },
            hobbies: { 
                name: 'üé® Hobbies', 
                icon: 'üé®', 
                desc: 'Pursue passions',
                effects: { happiness: 15 },
                cost: 100
            },
            travel: { 
                name: '‚úàÔ∏è Travel', 
                icon: '‚úàÔ∏è', 
                desc: 'Explore the world',
                effects: { happiness: 25, health: 5 },
                cost: 2000
            },
            business: { 
                name: 'üè¢ Start Business', 
                icon: 'üè¢', 
                desc: 'Entrepreneurship',
                effects: { money: 'business' },
                cost: 10000
            }
        };

        // Random Events
        const randomEvents = {
            child: [
                { text: 'You made a new friend at school!', effects: { happiness: 10 } },
                { text: 'You got sick and missed school.', effects: { health: -10, happiness: -5 } },
                { text: 'You won a school competition!', effects: { happiness: 15, intelligence: 5 } },
                { text: 'You fell and scraped your knee.', effects: { health: -5 } },
                { text: 'You got the highest grade in class!', effects: { intelligence: 10, happiness: 15 } }
            ],
            teen: [
                { text: 'You got invited to a party!', effects: { happiness: 15 } },
                { text: 'You aced your exam!', effects: { intelligence: 10, happiness: 10 } },
                { text: 'You had a fight with a friend.', effects: { happiness: -15 } },
                { text: 'You got your first phone!', effects: { happiness: 20 } },
                { text: 'You broke up with your crush.', effects: { happiness: -20 } },
                { text: 'You joined the school team!', effects: { health: 10, happiness: 15 } },
                { text: 'You got detention.', effects: { happiness: -10 } }
            ],
            adult: [
                { text: 'You got a promotion!', effects: { money: 5000, happiness: 20 }, type: 'promotion' },
                { text: 'You got fired from your job.', effects: { money: -2000, happiness: -30 }, type: 'fired' },
                { text: 'You won the lottery!', effects: { money: 50000, happiness: 50 }, type: 'lottery' },
                { text: 'Your car broke down.', effects: { money: -3000, happiness: -10 } },
                { text: 'You received a tax refund!', effects: { money: 2000, happiness: 10 } },
                { text: 'You got scammed online.', effects: { money: -5000, happiness: -20 } },
                { text: 'You found money on the street!', effects: { money: 500, happiness: 5 } },
                { text: 'You got a bonus at work!', effects: { money: 3000, happiness: 15 } },
                { text: 'You were in a minor accident.', effects: { health: -15, money: -2000 } },
                { text: 'You made a successful investment!', effects: { money: 10000, happiness: 25 } },
                { text: 'Your business idea succeeded!', effects: { money: 20000, happiness: 30 } }
            ],
            senior: [
                { text: 'Your grandchild was born!', effects: { happiness: 30 } },
                { text: 'You developed arthritis.', effects: { health: -15 } },
                { text: 'You won at bingo!', effects: { money: 1000, happiness: 10 } },
                { text: 'You wrote your memoirs.', effects: { happiness: 20 } },
                { text: 'You went on a cruise!', effects: { happiness: 25, money: -3000 } }
            ]
        };

        // Careers
        const careers = [
            { name: 'Software Engineer', salary: 80000, requirement: 80 },
            { name: 'Doctor', salary: 120000, requirement: 90 },
            { name: 'Teacher', salary: 45000, requirement: 70 },
            { name: 'Lawyer', salary: 100000, requirement: 85 },
            { name: 'Artist', salary: 35000, requirement: 60 },
            { name: 'Business Manager', salary: 75000, requirement: 75 },
            { name: 'Nurse', salary: 55000, requirement: 70 },
            { name: 'Police Officer', salary: 50000, requirement: 65 },
            { name: 'Chef', salary: 40000, requirement: 60 },
            { name: 'Accountant', salary: 60000, requirement: 75 },
            { name: 'Marketing Director', salary: 85000, requirement: 78 },
            { name: 'Data Scientist', salary: 95000, requirement: 85 }
        ];

        // Achievements
        const achievementDefinitions = {
            millionaire: { name: 'Millionaire', desc: 'Earned $1,000,000+' },
            centenarian: { name: 'Centenarian', desc: 'Lived to 100 years' },
            educated: { name: 'Well Educated', desc: 'Completed university' },
            happyLife: { name: 'Happy Life', desc: 'Maintained 80+ happiness' },
            healthy: { name: 'Health Nut', desc: 'Maintained 90+ health' },
            genius: { name: 'Genius', desc: 'Reached 100 intelligence' },
            beautiful: { name: 'Supermodel', desc: 'Reached 100 looks' },
            married: { name: 'Married', desc: 'Got married' },
            parent: { name: 'Parent', desc: 'Had children' },
            entrepreneur: { name: 'Entrepreneur', desc: 'Started a business' }
        };

        // Initialize game
        function startGame() {
            const name = document.getElementById('characterName').value || 'You';
            const gender = document.getElementById('characterGender').value;
            const country = document.getElementById('characterCountry').value;

            gameState = {
                ...gameState,
                name,
                gender,
                country,
                age: 0,
                health: 100,
                happiness: 100,
                intelligence: Math.floor(Math.random() * 30) + 40,
                looks: Math.floor(Math.random() * 30) + 40,
                money: 0,
                relationships: [
                    { name: generateName(), type: 'Mother', level: 100 },
                    { name: generateName(), type: 'Father', level: 100 }
                ],
                achievements: [],
                assets: []
            };

            document.getElementById('charName').textContent = gameState.name;
            switchScreen('gameScreen');
            updateUI();
            renderActivities();
            addEvent('You were born! Welcome to the world.', 'positive');
        }

        function switchScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }

        function updateUI() {
            // Clamp stats
            gameState.health = Math.max(0, Math.min(100, gameState.health));
            gameState.happiness = Math.max(0, Math.min(100, gameState.happiness));
            gameState.intelligence = Math.max(0, Math.min(100, gameState.intelligence));
            gameState.looks = Math.max(0, Math.min(100, gameState.looks));
            
            // Update stats display
            document.getElementById('charAge').textContent = gameState.age;
            document.getElementById('healthValue').textContent = Math.floor(gameState.health);
            document.getElementById('happinessValue').textContent = Math.floor(gameState.happiness);
            document.getElementById('intelligenceValue').textContent = Math.floor(gameState.intelligence);
            document.getElementById('looksValue').textContent = Math.floor(gameState.looks);
            
            // Update stat bars
            document.getElementById('healthBar').style.width = gameState.health + '%';
            document.getElementById('happinessBar').style.width = gameState.happiness + '%';
            document.getElementById('intelligenceBar').style.width = gameState.intelligence + '%';
            document.getElementById('looksBar').style.width = gameState.looks + '%';
            
            // Update money
            document.getElementById('moneyAmount').textContent = '$' + gameState.money.toLocaleString();
            
            // Update life stage
            let currentStage = 'üë∂ Infant';
            for (let age in lifeStages) {
                if (gameState.age >= parseInt(age)) {
                    currentStage = lifeStages[age].name;
                }
            }
            document.getElementById('lifeStage').textContent = currentStage;
            
            // Show/hide relationships panel
            if (gameState.relationships.length > 0) {
                document.getElementById('relationshipsPanel').style.display = 'block';
                renderRelationships();
            }
            
            // Check achievements
            checkAchievements();
        }

        function renderActivities() {
            const grid = document.getElementById('activitiesGrid');
            grid.innerHTML = '';
            
            let currentActivities = [];
            for (let age in lifeStages) {
                if (gameState.age >= parseInt(age)) {
                    currentActivities = lifeStages[age].activities;
                }
            }
            
            currentActivities.forEach(actId => {
                const act = activities[actId];
                const card = document.createElement('div');
                const canAfford = gameState.money >= act.cost;
                
                card.className = 'activity-card' + (canAfford ? '' : ' disabled');
                if (canAfford) {
                    card.onclick = () => performActivity(actId);
                }
                
                let costText = '';
                if (act.cost > 0) {
                    costText = `<div class="activity-cost">Cost: $${act.cost.toLocaleString()}</div>`;
                }
                
                card.innerHTML = `
                    <div class="activity-icon">${act.icon}</div>
                    <div class="activity-name">${act.name}</div>
                    <div class="activity-desc">${act.desc}</div>
                    ${costText}
                `;
                grid.appendChild(card);
            });
        }

        function performActivity(actId) {
            const act = activities[actId];
            
            // Check if can afford
            if (gameState.money < act.cost) {
                addEvent("You can't afford this activity!", 'critical');
                return;
            }
            
            // Deduct cost
            gameState.money -= act.cost;
            
            // Apply effects
            for (let stat in act.effects) {
                if (stat === 'money') {
                    if (act.effects[stat] === 'salary') {
                        const earned = gameState.salary || 0;
                        gameState.money += earned;
                        addEvent(`You earned $${earned.toLocaleString()} from work.`, 'positive');
                    } else if (act.effects[stat] === 'investment') {
                        if (gameState.money < 1000) {
                            addEvent("You need at least $1,000 to invest!", 'critical');
                            return;
                        }
                        const investAmount = Math.min(gameState.money * 0.1, 10000);
                        const gain = Math.floor(investAmount * (Math.random() * 0.3 - 0.1));
                        gameState.money += gain;
                        if (gain > 0) {
                            addEvent(`Your investments gained $${gain.toLocaleString()}!`, 'positive');
                        } else {
                            addEvent(`Your investments lost $${Math.abs(gain).toLocaleString()}.`, 'critical');
                        }
                    } else if (act.effects[stat] === 'business') {
                        if (gameState.money < 10000) {
                            addEvent("You need at least $10,000 to start a business!", 'critical');
                            gameState.money += act.cost; // Refund
                            return;
                        }
                        const success = gameState.intelligence > 70 && Math.random() > 0.3;
                        if (success) {
                            const profit = Math.floor(Math.random() * 30000) + 10000;
                            gameState.money += profit;
                            addEvent(`Your business succeeded! Profit: $${profit.toLocaleString()}`, 'positive');
                            unlockAchievement('entrepreneur');
                        } else {
                            addEvent(`Your business failed. You lost your investment.`, 'critical');
                        }
                    } else {
                        gameState.money += act.effects[stat];
                    }
                } else {
                    gameState[stat] = Math.max(0, Math.min(100, gameState[stat] + act.effects[stat]));
                }
            }
            
            addEvent(`You did: ${act.name}`);
            updateUI();
            renderActivities();
        }

        function ageUp() {
            gameState.age++;
            
            // Natural aging effects
            if (gameState.age > 30) {
                gameState.health -= Math.random() * 1.5;
            }
            
            if (gameState.age > 50) {
                gameState.health -= Math.random() * 2.5;
                gameState.looks -= Math.random() * 1.5;
            }
            
            if (gameState.age > 70) {
                gameState.health -= Math.random() * 3;
                gameState.looks -= Math.random() * 2;
            }
            
            // Random events
            triggerRandomEvent();
            
            // Career progression
            if (gameState.career && Math.random() > 0.7) {
                gameState.careerLevel++;
                gameState.salary = Math.floor(gameState.salary * 1.1);
                addEvent(`You advanced in your career! New salary: $${gameState.salary.toLocaleString()}`, 'important');
            }
            
            // Annual salary if working
            if (gameState.career && gameState.age >= 18) {
                const annualSalary = gameState.salary || 0;
                gameState.money += annualSalary;
            }
            
            // Education milestones
            if (gameState.age === 18 && !gameState.education) {
                showEducationChoice();
            }
            
            // Marriage opportunity
            if (gameState.age >= 25 && gameState.age <= 40 && !gameState.married && Math.random() > 0.8) {
                showMarriageOpportunity();
            }
            
            // Kids opportunity
            if (gameState.married && !gameState.hasKids && gameState.age >= 25 && gameState.age <= 45 && Math.random() > 0.85) {
                showKidsOpportunity();
            }
            
            // Check for death
            if (gameState.health <= 0) {
                die('health');
                return;
            }
            
            if (gameState.age >= 100) {
                unlockAchievement('centenarian');
                die('age');
                return;
            }
            
            // Random death chance increases with age
            const deathChance = gameState.age > 80 ? (gameState.age - 80) * 0.01 : 0;
            if (Math.random() < deathChance) {
                die('age');
                return;
            }
            
            renderActivities();
            updateUI();
            addEvent(`You turned ${gameState.age} years old!`, 'important');
        }

        function triggerRandomEvent() {
            let eventPool = [];
            
            if (gameState.age >= 5 && gameState.age < 13) {
                eventPool = randomEvents.child;
            } else if (gameState.age >= 13 && gameState.age < 18) {
                eventPool = randomEvents.teen;
            } else if (gameState.age >= 18 && gameState.age < 65) {
                eventPool = randomEvents.adult;
            } else if (gameState.age >= 65) {
                eventPool = randomEvents.senior;
            }
            
            if (eventPool.length > 0 && Math.random() > 0.5) {
                const event = eventPool[Math.floor(Math.random() * eventPool.length)];
                
                // Apply effects
                for (let stat in event.effects) {
                    if (stat === 'money') {
                        gameState.money = Math.max(0, gameState.money + event.effects[stat]);
                    } else {
                        gameState[stat] = Math.max(0, Math.min(100, gameState[stat] + event.effects[stat]));
                    }
                }
                
                const severity = event.effects.happiness < -10 || event.effects.health < -10 ? 'critical' : 
                                event.effects.happiness > 15 || event.effects.money > 1000 ? 'positive' : 'important';
                addEvent(event.text, severity);
                
                if (event.type === 'fired' && gameState.career) {
                    gameState.career = '';
                    gameState.salary = 0;
                } else if (event.type === 'lottery') {
                    unlockAchievement('millionaire');
                }
            }
        }

        function showEducationChoice() {
            showModal(
                'Education Decision',
                'You graduated high school! What do you want to do?',
                [
                    {
                        text: 'üéì Go to University',
                        action: () => {
                            if (gameState.money >= 50000) {
                                gameState.education = 'University';
                                gameState.intelligence += 20;
                                gameState.money -= 50000;
                                addEvent('You enrolled in university!', 'important');
                                unlockAchievement('educated');
                                updateUI();
                                closeModal();
                            } else {
                                addEvent("You can't afford university! Need $50,000", 'critical');
                            }
                        }
                    },
                    {
                        text: 'üíº Start Working',
                        action: () => {
                            gameState.education = 'High School';
                            addEvent('You decided to start working!');
                            findJob();
                            closeModal();
                        }
                    },
                    {
                        text: 'üé® Trade School',
                        action: () => {
                            if (gameState.money >= 20000) {
                                gameState.education = 'Trade School';
                                gameState.intelligence += 10;
                                gameState.money -= 20000;
                                addEvent('You enrolled in trade school!');
                                updateUI();
                                closeModal();
                            } else {
                                addEvent("You can't afford trade school! Need $20,000", 'critical');
                            }
                        }
                    }
                ]
            );
        }

        function showCareer() {
            if (gameState.age < 18) {
                addEvent("You're too young to have a career!");
                return;
            }
            
            if (gameState.career) {
                const choices = [
                    {
                        text: 'üîÑ Change Career',
                        action: () => {
                            findJob();
                            closeModal();
                        }
                    },
                    {
                        text: '‚ùå Quit Job',
                        action: () => {
                            gameState.career = '';
                            gameState.salary = 0;
                            addEvent('You quit your job!', 'critical');
                            updateUI();
                            closeModal();
                        }
                    },
                    {
                        text: '‚úì Keep Job',
                        action: closeModal
                    }
                ];
                
                showModal(
                    'Your Career',
                    `You are working as a ${gameState.career}. Salary: $${gameState.salary.toLocaleString()}/year. Level: ${gameState.careerLevel}`,
                    choices
                );
            } else {
                findJob();
            }
        }

        function findJob() {
            const availableJobs = careers.filter(c => gameState.intelligence >= c.requirement);
            
            if (availableJobs.length === 0) {
                addEvent("You don't qualify for any careers yet. Study more!", 'critical');
                return;
            }
            
            const job = availableJobs[Math.floor(Math.random() * availableJobs.length)];
            gameState.career = job.name;
            gameState.salary = job.salary;
            gameState.careerLevel = 1;
            
            addEvent(`You got hired as a ${job.name}! Salary: $${job.salary.toLocaleString()}/year`, 'positive');
            updateUI();
        }

        function showRelationships() {
            const list = document.getElementById('relationshipsList');
            list.innerHTML = '';
            
            if (gameState.relationships.length === 0) {
                list.innerHTML = '<p style="text-align: center; color: var(--text-secondary);">No relationships yet</p>';
            } else {
                gameState.relationships.forEach((rel, index) => {
                    const item = document.createElement('div');
                    item.className = 'relationship-item';
                    item.innerHTML = `
                        <div class="relationship-info">
                            <div class="relationship-name">${rel.name}</div>
                            <div class="relationship-type">${rel.type}</div>
                        </div>
                        <div class="relationship-level">${rel.level}%</div>
                    `;
                    list.appendChild(item);
                });
            }
        }

        function renderRelationships() {
            showRelationships();
        }

        function showMarriageOpportunity() {
            const partnerName = generateName();
            showModal(
                'Marriage Proposal',
                `${partnerName} proposed to you! Will you marry them?`,
                [
                    {
                        text: 'üíç Yes, I do!',
                        action: () => {
                            gameState.married = true;
                            gameState.relationships.push({
                                name: partnerName,
                                type: 'Spouse',
                                level: 100
                            });
                            gameState.happiness += 30;
                            addEvent(`You married ${partnerName}!`, 'positive');
                            unlockAchievement('married');
                            updateUI();
                            closeModal();
                        }
                    },
                    {
                        text: '‚ùå No, not ready',
                        action: () => {
                            gameState.happiness -= 10;
                            addEvent('You declined the proposal.');
                            updateUI();
                            closeModal();
                        }
                    }
                ]
            );
        }

        function showKidsOpportunity() {
            showModal(
                'Family Planning',
                'Do you want to have children?',
                [
                    {
                        text: 'üë∂ Yes, have kids!',
                        action: () => {
                            gameState.hasKids = true;
                            const numKids = Math.floor(Math.random() * 3) + 1;
                            for (let i = 0; i < numKids; i++) {
                                gameState.relationships.push({
                                    name: generateName(),
                                    type: 'Child',
                                    level: 100
                                });
                            }
                            gameState.happiness += 25;
                            gameState.money -= 20000 * numKids;
                            addEvent(`You had ${numKids} ${numKids === 1 ? 'child' : 'children'}!`, 'positive');
                            unlockAchievement('parent');
                            updateUI();
                            closeModal();
                        }
                    },
                    {
                        text: '‚ùå Not yet',
                        action: closeModal
                    }
                ]
            );
        }

        function showAssets() {
            if (gameState.assets.length === 0) {
                showModal(
                    'Your Assets',
                    'You don\'t own any assets yet. Work hard and save money to buy property, cars, and more!',
                    [{ text: 'OK', action: closeModal }]
                );
            } else {
                const assetsList = gameState.assets.map(a => `‚Ä¢ ${a.name}: $${a.value.toLocaleString()}`).join('\n');
                showModal(
                    'Your Assets',
                    assetsList,
                    [{ text: 'Close', action: closeModal }]
                );
            }
        }

        function addEvent(text, type = '') {
            const log = document.getElementById('eventsLog');
            const event = document.createElement('div');
            event.className = 'event-item ' + type;
            event.textContent = text;
            log.insertBefore(event, log.firstChild);
            
            // Keep only last 20 events
            while (log.children.length > 20) {
                log.removeChild(log.lastChild);
            }
        }

        function showModal(title, text, choices) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalText').textContent = text;
            
            const choicesDiv = document.getElementById('modalChoices');
            choicesDiv.innerHTML = '';
            
            choices.forEach(choice => {
                const btn = document.createElement('button');
                btn.className = 'choice-btn';
                btn.textContent = choice.text;
                btn.onclick = choice.action;
                choicesDiv.appendChild(btn);
            });
            
            document.getElementById('eventModal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('eventModal').classList.remove('active');
        }

        function die(cause = 'natural') {
            gameState.isDead = true;
            
            let causeText = '';
            if (cause === 'health') {
                causeText = 'Your health declined and you passed away.';
            } else if (cause === 'age') {
                causeText = 'You lived a full life and passed away peacefully.';
            } else {
                const causes = [
                    'You passed away peacefully in your sleep.',
                    'You died from natural causes.',
                    'You lived a full life and passed away surrounded by loved ones.'
                ];
                causeText = causes[Math.floor(Math.random() * causes.length)];
            }
            
            document.getElementById('deathMessage').textContent = causeText;
            document.getElementById('finalAge').textContent = gameState.age + ' years';
            document.getElementById('finalMoney').textContent = '$' + gameState.money.toLocaleString();
            document.getElementById('finalCareer').textContent = gameState.career || 'Unemployed';
            document.getElementById('finalHappiness').textContent = Math.floor(gameState.happiness) + '%';
            
            // Display achievements
            const badgesDiv = document.getElementById('achievementsBadges');
            badgesDiv.innerHTML = '';
            if (gameState.achievements.length === 0) {
                badgesDiv.innerHTML = '<p style="text-align: center; color: var(--text-secondary);">No achievements earned</p>';
            } else {
                gameState.achievements.forEach(ach => {
                    const badge = document.createElement('span');
                    badge.className = 'achievement-badge';
                    badge.textContent = `üèÜ ${achievementDefinitions[ach].name}`;
                    badgesDiv.appendChild(badge);
                });
            }
            
            switchScreen('deathScreen');
        }

        function checkAchievements() {
            if (gameState.money >= 1000000 && !gameState.achievements.includes('millionaire')) {
                unlockAchievement('millionaire');
            }
            
            if (gameState.happiness >= 80 && !gameState.achievements.includes('happyLife')) {
                unlockAchievement('happyLife');
            }
            
            if (gameState.health >= 90 && !gameState.achievements.includes('healthy')) {
                unlockAchievement('healthy');
            }
            
            if (gameState.intelligence >= 100 && !gameState.achievements.includes('genius')) {
                unlockAchievement('genius');
            }
            
            if (gameState.looks >= 100 && !gameState.achievements.includes('beautiful')) {
                unlockAchievement('beautiful');
            }
        }

        function unlockAchievement(achievementId) {
            if (!gameState.achievements.includes(achievementId)) {
                gameState.achievements.push(achievementId);
                const ach = achievementDefinitions[achievementId];
                showAchievementPopup(ach.name, ach.desc);
            }
        }

        function showAchievementPopup(name, desc) {
            const popup = document.getElementById('achievementPopup');
            document.getElementById('achievementDesc').textContent = `${name} - ${desc}`;
            popup.classList.add('show');
            
            setTimeout(() => {
                popup.classList.remove('show');
            }, 3000);
        }

        function generateName() {
            const firstNames = ['Alex', 'Jordan', 'Taylor', 'Morgan', 'Casey', 'Riley', 'Avery', 'Quinn', 
                               'Emma', 'Liam', 'Olivia', 'Noah', 'Sophia', 'Mason', 'Isabella', 'James',
                               'Mia', 'Oliver', 'Charlotte', 'Ethan', 'Amelia', 'Lucas', 'Harper', 'Michael'];
            const lastNames = ['Smith', 'Johnson', 'Williams', 'Brown', 'Jones', 'Garcia', 'Miller', 'Davis',
                             'Rodriguez', 'Martinez', 'Hernandez', 'Lopez', 'Wilson', 'Anderson', 'Thomas'];
            
            const firstName = firstNames[Math.floor(Math.random() * firstNames.length)];
            const lastName = lastNames[Math.floor(Math.random() * lastNames.length)];
            return `${firstName} ${lastName}`;
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Set default name
            const randomNames = ['Alex', 'Jordan', 'Sam', 'Taylor', 'Morgan', 'Casey', 'Riley', 'Avery'];
            document.getElementById('characterName').value = randomNames[Math.floor(Math.random() * randomNames.length)];
        });
    </script>
</body>
</html>