<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BitLife - Life Simulator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
            background: #f5f5f5;
            overflow-x: hidden;
            padding-bottom: 180px;
        }
        
        /* Top Bar - RED like BitLife */
        .top-bar {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            padding: 12px 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .menu-icon {
            width: 35px;
            height: 35px;
            background: rgba(255,255,255,0.2);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.3rem;
            cursor: pointer;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .logo-icon {
            width: 35px;
            height: 35px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }
        
        .logo-text {
            font-size: 1.6rem;
            font-weight: 700;
            color: #fff100;
            text-shadow: 2px 2px 0 #e74c3c;
        }
        
        .citizen-btn {
            background: rgba(255,255,255,0.2);
            padding: 6px 12px;
            border-radius: 15px;
            color: white;
            font-size: 0.75rem;
            font-weight: 600;
            cursor: pointer;
        }
        
        /* Character Info Panel */
        .char-panel {
            background: white;
            margin: 15px;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        
        .char-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .char-avatar {
            width: 50px;
            height: 50px;
            font-size: 2rem;
        }
        
        .char-name-section {
            flex: 1;
        }
        
        .char-name {
            font-size: 1.3rem;
            font-weight: 700;
            color: #2563eb;
            margin-bottom: 3px;
        }
        
        .char-status {
            font-size: 0.85rem;
            color: #666;
        }
        
        .bank-balance {
            text-align: right;
        }
        
        .balance-label {
            font-size: 0.75rem;
            color: #666;
        }
        
        .balance-amount {
            font-size: 1.1rem;
            font-weight: 700;
            color: #16a34a;
        }
        
        .char-story {
            line-height: 1.7;
            color: #333;
        }
        
        .char-story h3 {
            font-size: 1.1rem;
            margin-bottom: 12px;
            color: #111;
        }
        
        .char-story p {
            margin-bottom: 10px;
            font-size: 0.95rem;
        }
        
        /* Events Section */
        .events-section {
            background: white;
            margin: 15px;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            display: none;
        }
        
        .events-section.active {
            display: block;
        }
        
        .event-item {
            background: #f8fafc;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 12px;
            border-left: 4px solid #2563eb;
        }
        
        .event-item.positive {
            border-left-color: #16a34a;
            background: #f0fdf4;
        }
        
        .event-item.negative {
            border-left-color: #dc2626;
            background: #fef2f2;
        }
        
        .event-text {
            font-size: 0.95rem;
            line-height: 1.6;
            color: #333;
        }
        
        /* Activities List */
        .activities-list {
            background: white;
            margin: 15px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            display: none;
        }
        
        .activities-list.active {
            display: block;
        }
        
        .activity-item {
            padding: 18px 20px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .activity-item:hover {
            background: #f8fafc;
        }
        
        .activity-item:last-child {
            border-bottom: none;
        }
        
        .activity-icon {
            font-size: 1.8rem;
            width: 45px;
            text-align: center;
        }
        
        .activity-text {
            flex: 1;
        }
        
        .activity-name {
            font-size: 1rem;
            font-weight: 600;
            color: #111;
            margin-bottom: 3px;
        }
        
        .activity-desc {
            font-size: 0.85rem;
            color: #666;
        }
        
        .activity-cost {
            font-size: 0.85rem;
            color: #dc2626;
            font-weight: 600;
        }
        
        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #1e3a5f;
            padding: 12px 0 8px 0;
            box-shadow: 0 -3px 15px rgba(0,0,0,0.2);
            z-index: 99;
        }
        
        .nav-buttons {
            display: flex;
            align-items: center;
            justify-content: space-around;
            padding: 0 20px;
        }
        
        .nav-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .nav-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255,255,255,0.15);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            transition: all 0.3s;
        }
        
        .nav-btn.active .nav-icon {
            background: rgba(255,255,255,0.25);
        }
        
        .nav-label {
            font-size: 0.7rem;
            color: white;
            font-weight: 600;
        }
        
        .age-btn {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: linear-gradient(135deg, #22c55e, #16a34a);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: white;
            box-shadow: 0 6px 20px rgba(34, 197, 94, 0.4);
            cursor: pointer;
            transition: all 0.3s;
            border: 5px solid #1e3a5f;
            margin-top: -15px;
        }
        
        .age-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(34, 197, 94, 0.5);
        }
        
        .age-btn:active {
            transform: scale(0.95);
        }
        
        /* Stats Bar */
        .stats-bar {
            background: white;
            padding: 15px 20px 20px 20px;
        }
        
        .stat-row {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .stat-row:last-child {
            margin-bottom: 0;
        }
        
        .stat-label {
            display: flex;
            align-items: center;
            gap: 6px;
            width: 90px;
            font-size: 0.85rem;
            color: #555;
        }
        
        .stat-emoji {
            font-size: 1.1rem;
        }
        
        .stat-bar-bg {
            flex: 1;
            height: 18px;
            background: #e5e7eb;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }
        
        .stat-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #22c55e, #16a34a);
            border-radius: 10px;
            transition: width 0.5s ease;
        }
        
        .stat-value {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.75rem;
            font-weight: 700;
            color: #111;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            z-index: 999;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: white;
            border-radius: 15px;
            max-width: 450px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
        }
        
        .modal-header {
            padding: 20px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .modal-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: #111;
            margin-bottom: 5px;
        }
        
        .modal-subtitle {
            font-size: 0.9rem;
            color: #666;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .choice-item {
            background: #f8fafc;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }
        
        .choice-item:hover {
            background: #e0f2fe;
            border-color: #2563eb;
        }
        
        .choice-text {
            font-size: 0.95rem;
            color: #111;
            font-weight: 500;
        }
        
        .close-btn {
            width: 100%;
            padding: 15px;
            background: #e5e7eb;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            color: #111;
            cursor: pointer;
            margin-top: 10px;
        }
        
        /* Relationships List */
        .relationships-list {
            background: white;
            margin: 15px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            display: none;
        }
        
        .relationships-list.active {
            display: block;
        }
        
        .rel-item {
            padding: 18px 20px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
        }
        
        .rel-item:hover {
            background: #f8fafc;
        }
        
        .rel-icon {
            font-size: 1.8rem;
            width: 45px;
            text-align: center;
        }
        
        .rel-info {
            flex: 1;
        }
        
        .rel-name {
            font-size: 1rem;
            font-weight: 700;
            color: #111;
            margin-bottom: 3px;
        }
        
        .rel-type {
            font-size: 0.85rem;
            color: #666;
        }
        
        .rel-bar {
            width: 80px;
            height: 8px;
            background: #e5e7eb;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .rel-fill {
            height: 100%;
            background: linear-gradient(90deg, #22c55e, #16a34a);
            border-radius: 10px;
        }
        
        /* Start Screen */
        .start-screen {
            min-height: 100vh;
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .start-logo {
            font-size: 4rem;
            color: #fff100;
            text-shadow: 3px 3px 0 rgba(0,0,0,0.2);
            margin-bottom: 40px;
            font-weight: 700;
        }
        
        .start-card {
            background: white;
            padding: 35px;
            border-radius: 20px;
            max-width: 400px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        .start-card h2 {
            font-size: 1.8rem;
            margin-bottom: 25px;
            color: #111;
            text-align: center;
        }
        
        .form-group {
            margin-bottom: 18px;
        }
        
        .form-label {
            display: block;
            font-size: 0.9rem;
            color: #555;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .form-input,
        .form-select {
            width: 100%;
            padding: 14px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        .form-input:focus,
        .form-select:focus {
            outline: none;
            border-color: #e74c3c;
        }
        
        .start-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }
        
        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(231, 76, 60, 0.4);
        }
        
        /* Death Screen */
        .death-screen {
            min-height: 100vh;
            background: linear-gradient(135deg, #111, #333);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .death-card {
            background: white;
            padding: 35px;
            border-radius: 20px;
            max-width: 500px;
            width: 100%;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }
        
        .death-card h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: #111;
        }
        
        .death-message {
            font-size: 1.1rem;
            color: #666;
            margin-bottom: 25px;
            line-height: 1.6;
        }
        
        .life-stats {
            background: #f8fafc;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
        }
        
        .life-stat-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .life-stat-row:last-child {
            border-bottom: none;
        }
        
        .stat-name {
            font-weight: 600;
            color: #555;
        }
        
        .stat-val {
            font-weight: 700;
            color: #111;
        }
        
        .new-life-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .new-life-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(231, 76, 60, 0.4);
        }
        
        .screen {
            display: none;
        }
        
        .screen.active {
            display: block;
        }
        
        /* Jobs List */
        .jobs-list {
            background: white;
            margin: 15px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            display: none;
        }
        
        .jobs-list.active {
            display: block;
        }
        
        .job-item {
            padding: 18px 20px;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
        }
        
        .job-item:hover {
            background: #f8fafc;
        }
        
        .job-name {
            font-size: 1rem;
            font-weight: 700;
            color: #111;
            margin-bottom: 3px;
        }
        
        .job-salary {
            font-size: 0.9rem;
            color: #16a34a;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <!-- Start Screen -->
    <div id="startScreen" class="screen active">
        <div class="start-screen">
            <div class="start-logo">BitLife</div>
            <div class="start-card">
                <h2>New Life</h2>
                <div class="form-group">
                    <label class="form-label">Country</label>
                    <select id="country" class="form-select">
                        <option value="United States">üá∫üá∏ United States</option>
                        <option value="United Kingdom">üá¨üáß United Kingdom</option>
                        <option value="Canada">üá®üá¶ Canada</option>
                        <option value="Australia">üá¶üá∫ Australia</option>
                        <option value="Germany">üá©üá™ Germany</option>
                        <option value="France">üá´üá∑ France</option>
                        <option value="Japan">üáØüáµ Japan</option>
                        <option value="Brazil">üáßüá∑ Brazil</option>
                        <option value="India">üáÆüá≥ India</option>
                        <option value="Mexico">üá≤üáΩ Mexico</option>
                    </select>
                </div>
                <button class="start-btn" onclick="startGame()">Start New Life</button>
            </div>
        </div>
    </div>

    <!-- Main Game Screen -->
    <div id="gameScreen" class="screen">
        <!-- Top Bar -->
        <div class="top-bar">
            <div class="menu-icon">‚ò∞</div>
            <div class="logo">
                <div class="logo-icon">üéÆ</div>
                <div class="logo-text">BitLife</div>
            </div>
            <div class="citizen-btn">CITIZEN</div>
        </div>

        <!-- Character Panel -->
        <div class="char-panel">
            <div class="char-header">
                <div class="char-avatar" id="avatar">üë∂</div>
                <div class="char-name-section">
                    <div class="char-name" id="charName">Baby</div>
                    <div class="char-status" id="charStatus">Infant</div>
                </div>
                <div class="bank-balance">
                    <div class="balance-label">Bank Balance</div>
                    <div class="balance-amount" id="balance">$0</div>
                </div>
            </div>
            <div class="char-story" id="story"></div>
        </div>

        <!-- Events Section -->
        <div class="events-section" id="eventsSection"></div>

        <!-- Activities List -->
        <div class="activities-list" id="activitiesList"></div>

        <!-- Relationships List -->
        <div class="relationships-list" id="relationshipsList"></div>

        <!-- Jobs List -->
        <div class="jobs-list" id="jobsList"></div>

        <!-- Bottom Nav -->
        <div class="bottom-nav">
            <div class="stats-bar">
                <div class="stat-row">
                    <div class="stat-label">
                        <span class="stat-emoji">üòä</span>
                        <span>Happiness</span>
                    </div>
                    <div class="stat-bar-bg">
                        <div class="stat-bar-fill" id="happinessBar" style="width: 100%"></div>
                        <div class="stat-value" id="happinessVal">100%</div>
                    </div>
                </div>
                <div class="stat-row">
                    <div class="stat-label">
                        <span class="stat-emoji">‚ù§Ô∏è</span>
                        <span>Health</span>
                    </div>
                    <div class="stat-bar-bg">
                        <div class="stat-bar-fill" id="healthBar" style="width: 100%"></div>
                        <div class="stat-value" id="healthVal">100%</div>
                    </div>
                </div>
                <div class="stat-row">
                    <div class="stat-label">
                        <span class="stat-emoji">üß†</span>
                        <span>Smarts</span>
                    </div>
                    <div class="stat-bar-bg">
                        <div class="stat-bar-fill" id="smartsBar" style="width: 50%"></div>
                        <div class="stat-value" id="smartsVal">50%</div>
                    </div>
                </div>
                <div class="stat-row">
                    <div class="stat-label">
                        <span class="stat-emoji">‚≠ê</span>
                        <span>Looks</span>
                    </div>
                    <div class="stat-bar-bg">
                        <div class="stat-bar-fill" id="looksBar" style="width: 50%"></div>
                        <div class="stat-value" id="looksVal">50%</div>
                    </div>
                </div>
            </div>
            <div class="nav-buttons">
                <div class="nav-btn" onclick="showOccupation()">
                    <div class="nav-icon">üë∂</div>
                    <div class="nav-label" id="occLabel">Infant</div>
                </div>
                <div class="nav-btn" onclick="showAssets()">
                    <div class="nav-icon">üè†</div>
                    <div class="nav-label">Assets</div>
                </div>
                <div class="age-btn" onclick="ageUp()">+</div>
                <div class="nav-btn" onclick="showRelationships()">
                    <div class="nav-icon">üë•</div>
                    <div class="nav-label">Relationships</div>
                </div>
                <div class="nav-btn" onclick="showActivities()">
                    <div class="nav-icon">‚ö°</div>
                    <div class="nav-label">Activities</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Death Screen -->
    <div id="deathScreen" class="screen">
        <div class="death-screen">
            <div class="death-card">
                <h1>üíÄ R.I.P. üíÄ</h1>
                <div class="death-message" id="deathMsg">Your life has ended...</div>
                <div class="life-stats">
                    <div class="life-stat-row">
                        <span class="stat-name">Final Age</span>
                        <span class="stat-val" id="finalAge">0</span>
                    </div>
                    <div class="life-stat-row">
                        <span class="stat-name">Net Worth</span>
                        <span class="stat-val" id="finalMoney">$0</span>
                    </div>
                    <div class="life-stat-row">
                        <span class="stat-name">Career</span>
                        <span class="stat-val" id="finalCareer">None</span>
                    </div>
                    <div class="life-stat-row">
                        <span class="stat-name">Happiness</span>
                        <span class="stat-val" id="finalHappy">0%</span>
                    </div>
                </div>
                <button class="new-life-btn" onclick="location.reload()">Start New Life</button>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" id="modalTitle">Title</div>
                <div class="modal-subtitle" id="modalSubtitle"></div>
            </div>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>

    <script>
        // Game data
        let game = {
            firstName: '',
            lastName: '',
            fullName: '',
            age: 0,
            country: '',
            city: '',
            gender: '',
            birthMonth: '',
            zodiac: '',
            health: 100,
            happiness: 100,
            smarts: 50,
            looks: 50,
            money: 0,
            relationships: [],
            job: null,
            education: 'None',
            assets: [],
            activities: [],
            inSchool: true
        };

        // Names database
        const names = {
            first: {
                male: ['James', 'John', 'Robert', 'Michael', 'William', 'David', 'Richard', 'Joseph', 'Thomas', 'Christopher', 'Daniel', 'Matthew', 'Anthony', 'Mark', 'Donald', 'Steven', 'Andrew', 'Joshua', 'Kenneth', 'Kevin', 'Brian', 'George', 'Timothy', 'Ronald', 'Edward'],
                female: ['Mary', 'Patricia', 'Jennifer', 'Linda', 'Elizabeth', 'Barbara', 'Susan', 'Jessica', 'Sarah', 'Karen', 'Lisa', 'Nancy', 'Betty', 'Margaret', 'Sandra', 'Ashley', 'Kimberly', 'Emily', 'Donna', 'Michelle', 'Carol', 'Amanda', 'Dorothy', 'Melissa', 'Deborah']
            },
            last: ['Smith', 'Johnson', 'Williams', 'Brown', 'Jones', 'Garcia', 'Miller', 'Davis', 'Rodriguez', 'Martinez', 'Hernandez', 'Lopez', 'Gonzalez', 'Wilson', 'Anderson', 'Thomas', 'Taylor', 'Moore', 'Jackson', 'Martin', 'Lee', 'Thompson', 'White', 'Harris', 'Sanchez', 'Clark', 'Lewis', 'Robinson', 'Walker', 'Young']
        };

        const cities = {
            'United States': ['New York', 'Los Angeles', 'Chicago', 'Houston', 'Phoenix', 'Philadelphia', 'San Antonio', 'San Diego', 'Dallas', 'San Jose'],
            'United Kingdom': ['London', 'Manchester', 'Birmingham', 'Leeds', 'Glasgow', 'Sheffield', 'Liverpool', 'Edinburgh', 'Bristol', 'Cardiff'],
            'Canada': ['Toronto', 'Montreal', 'Vancouver', 'Calgary', 'Edmonton', 'Ottawa', 'Winnipeg', 'Quebec City', 'Hamilton', 'Victoria'],
            'Australia': ['Sydney', 'Melbourne', 'Brisbane', 'Perth', 'Adelaide', 'Gold Coast', 'Canberra', 'Newcastle', 'Wollongong', 'Logan'],
            'Germany': ['Berlin', 'Hamburg', 'Munich', 'Cologne', 'Frankfurt', 'Stuttgart', 'D√ºsseldorf', 'Dortmund', 'Essen', 'Leipzig'],
            'France': ['Paris', 'Marseille', 'Lyon', 'Toulouse', 'Nice', 'Nantes', 'Strasbourg', 'Montpellier', 'Bordeaux', 'Lille'],
            'Japan': ['Tokyo', 'Osaka', 'Kyoto', 'Yokohama', 'Nagoya', 'Sapporo', 'Fukuoka', 'Kobe', 'Kawasaki', 'Hiroshima'],
            'Brazil': ['S√£o Paulo', 'Rio de Janeiro', 'Bras√≠lia', 'Salvador', 'Fortaleza', 'Belo Horizonte', 'Manaus', 'Curitiba', 'Recife', 'Porto Alegre'],
            'India': ['Mumbai', 'Delhi', 'Bangalore', 'Hyderabad', 'Chennai', 'Kolkata', 'Pune', 'Ahmedabad', 'Jaipur', 'Surat'],
            'Mexico': ['Mexico City', 'Guadalajara', 'Monterrey', 'Puebla', 'Tijuana', 'Le√≥n', 'Ju√°rez', 'Zapopan', 'M√©rida', 'Canc√∫n']
        };

        const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
        const zodiacs = ['Capricorn', 'Aquarius', 'Pisces', 'Aries', 'Taurus', 'Gemini', 'Cancer', 'Leo', 'Virgo', 'Libra', 'Scorpio', 'Sagittarius'];

        const jobs = {
            'Doctor': { salary: 150000, req: { education: 'University', smarts: 90 } },
            'Lawyer': { salary: 120000, req: { education: 'University', smarts: 85 } },
            'Engineer': { salary: 95000, req: { education: 'University', smarts: 80 } },
            'Teacher': { salary: 55000, req: { education: 'University', smarts: 70 } },
            'Nurse': { salary: 65000, req: { education: 'University', smarts: 70 } },
            'Accountant': { salary: 70000, req: { education: 'University', smarts: 75 } },
            'Police Officer': { salary: 55000, req: { education: 'High School', smarts: 60 } },
            'Firefighter': { salary: 50000, req: { education: 'High School', health: 80 } },
            'Chef': { salary: 45000, req: { education: 'High School', smarts: 55 } },
            'Cashier': { salary: 25000, req: { education: 'None', smarts: 20 } },
            'Janitor': { salary: 28000, req: { education: 'None', smarts: 15 } },
            'Waiter': { salary: 30000, req: { education: 'None', smarts: 25 } }
        };

        // Activities database
        const activities = [
            { name: 'Go to the gym', icon: 'üí™', effects: { health: 10, looks: 5, happiness: 5 }, cost: 50, minAge: 13 },
            { name: 'Meditate', icon: 'üßò', effects: { happiness: 8, health: 3 }, minAge: 8 },
            { name: 'Read a book', icon: 'üìö', effects: { smarts: 10, happiness: 3 }, minAge: 5 },
            { name: 'Study hard', icon: 'üìñ', effects: { smarts: 15, happiness: -5 }, minAge: 5 },
            { name: 'Watch a movie', icon: 'üé¨', effects: { happiness: 12 }, cost: 20, minAge: 5 },
            { name: 'Go to a nightclub', icon: 'üï∫', effects: { happiness: 20, health: -5 }, cost: 100, minAge: 18 },
            { name: 'Take a vacation', icon: '‚úàÔ∏è', effects: { happiness: 30, health: 5 }, cost: 3000, minAge: 13 },
            { name: 'Visit the library', icon: 'üìñ', effects: { smarts: 8, happiness: 5 }, minAge: 5 },
            { name: 'Go for a run', icon: 'üèÉ', effects: { health: 12, happiness: 8 }, minAge: 8 },
            { name: 'Practice music', icon: 'üé∏', effects: { happiness: 12, smarts: 3 }, minAge: 5 },
            { name: 'Go shopping', icon: 'üõçÔ∏è', effects: { happiness: 18 }, cost: 500, minAge: 13 },
            { name: 'Eat at restaurant', icon: 'üçΩÔ∏è', effects: { happiness: 15 }, cost: 150, minAge: 5 },
            { name: 'Go to spa', icon: 'üíÜ', effects: { happiness: 25, looks: 8 }, cost: 300, minAge: 18 },
            { name: 'Practice yoga', icon: 'üßò‚Äç‚ôÄÔ∏è', effects: { health: 10, happiness: 12 }, minAge: 13 },
            { name: 'Go to museum', icon: 'üèõÔ∏è', effects: { smarts: 8, happiness: 10 }, cost: 50, minAge: 8 },
            { name: 'Walk in park', icon: 'üå≥', effects: { happiness: 12, health: 5 }, minAge: 3 },
            { name: 'Play video games', icon: 'üéÆ', effects: { happiness: 15 }, minAge: 5 },
            { name: 'Go to beach', icon: 'üèñÔ∏è', effects: { happiness: 20, health: 5 }, minAge: 5 },
            { name: 'Visit zoo', icon: 'ü¶Å', effects: { happiness: 18 }, cost: 75, minAge: 3 },
            { name: 'Take a nap', icon: 'üò¥', effects: { health: 8, happiness: 6 }, minAge: 0 }
        ];

        // Random events
        const events = {
            child: [
                { text: 'You made a new friend at school!', effects: { happiness: 15 } },
                { text: 'You won a school competition!', effects: { happiness: 20, smarts: 8 } },
                { text: 'You got sick with the flu.', effects: { health: -15, happiness: -10 } },
                { text: 'Your parents bought you a new toy!', effects: { happiness: 18 } },
                { text: 'You fell and hurt yourself.', effects: { health: -12 } },
                { text: 'You got an A+ on your test!', effects: { smarts: 10, happiness: 15 } }
            ],
            teen: [
                { text: 'You aced your final exam!', effects: { happiness: 25, smarts: 12 } },
                { text: 'You went to your first party!', effects: { happiness: 30 } },
                { text: 'You got your first phone!', effects: { happiness: 35 } },
                { text: 'You had a fight with a friend.', effects: { happiness: -25 } },
                { text: 'You failed a test.', effects: { happiness: -20, smarts: -8 } },
                { text: 'You made the sports team!', effects: { happiness: 28, health: 10 } }
            ],
            adult: [
                { text: 'You got a promotion at work!', effects: { happiness: 30, money: 10000 } },
                { text: 'You won $50,000 in the lottery!', effects: { happiness: 60, money: 50000 } },
                { text: 'Your car broke down.', effects: { happiness: -25, money: -3000 } },
                { text: 'You received a tax refund!', effects: { happiness: 15, money: 2000 } },
                { text: 'You found money on the street!', effects: { happiness: 12, money: 500 } },
                { text: 'You got scammed online.', effects: { happiness: -30, money: -5000 } },
                { text: 'Your investment paid off!', effects: { happiness: 35, money: 15000 } }
            ],
            senior: [
                { text: 'Your grandchild was born!', effects: { happiness: 40 } },
                { text: 'You developed arthritis.', effects: { health: -20 } },
                { text: 'You wrote your memoirs.', effects: { happiness: 25 } },
                { text: 'You won at bingo!', effects: { happiness: 20, money: 1000 } }
            ]
        };

        // Helper functions
        function rand(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function pick(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        function clamp(val, min = 0, max = 100) {
            return Math.max(min, Math.min(max, val));
        }

        function money(amt) {
            return '$' + Math.floor(amt).toLocaleString();
        }

        function generatePerson(gender) {
            const g = gender || (Math.random() > 0.5 ? 'male' : 'female');
            const first = pick(names.first[g]);
            const last = pick(names.last);
            return { first, last, full: `${first} ${last}`, gender: g };
        }

        // Start game
        function startGame() {
            const country = document.getElementById('country').value;
            game.gender = Math.random() > 0.5 ? 'male' : 'female';
            const person = generatePerson(game.gender);
            
            game.firstName = person.first;
            game.lastName = person.last;
            game.fullName = person.full;
            game.country = country;
            game.city = pick(cities[country]);
            game.age = 0;
            game.birthMonth = pick(months);
            game.zodiac = pick(zodiacs);
            game.health = 100;
            game.happiness = 100;
            game.smarts = rand(30, 70);
            game.looks = rand(30, 70);
            game.money = 0;
            game.education = 'None';
            game.inSchool = true;

            // Add family
            const mother = generatePerson('female');
            const father = generatePerson('male');
            game.relationships = [
                { name: mother.full, type: 'Mother', level: 100, age: rand(25, 45), gender: 'female' },
                { name: father.full, type: 'Father', level: 100, age: rand(25, 45), gender: 'male' }
            ];

            // Random siblings
            if (Math.random() > 0.5) {
                const sibling = generatePerson();
                game.relationships.push({ 
                    name: sibling.full, 
                    type: Math.random() > 0.5 ? 'Brother' : 'Sister', 
                    level: rand(60, 100), 
                    age: rand(0, 12),
                    gender: sibling.gender
                });
            }

            switchScreen('gameScreen');
            updateUI();
            updateStory();
        }

        function switchScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function updateUI() {
            game.health = clamp(game.health);
            game.happiness = clamp(game.happiness);
            game.smarts = clamp(game.smarts);
            game.looks = clamp(game.looks);

            document.getElementById('charName').textContent = game.fullName;
            document.getElementById('balance').textContent = money(game.money);
            document.getElementById('avatar').textContent = getEmoji();
            document.getElementById('charStatus').textContent = getStatus();

            document.getElementById('healthBar').style.width = game.health + '%';
            document.getElementById('healthVal').textContent = Math.floor(game.health) + '%';
            document.getElementById('happinessBar').style.width = game.happiness + '%';
            document.getElementById('happinessVal').textContent = Math.floor(game.happiness) + '%';
            document.getElementById('smartsBar').style.width = game.smarts + '%';
            document.getElementById('smartsVal').textContent = Math.floor(game.smarts) + '%';
            document.getElementById('looksBar').style.width = game.looks + '%';
            document.getElementById('looksVal').textContent = Math.floor(game.looks) + '%';

            // Update occupation label
            let occLabel = 'Infant';
            if (game.age >= 18) {
                if (game.job) occLabel = 'Job';
                else occLabel = 'Occupation';
            } else if (game.age >= 5) {
                occLabel = 'School';
            }
            document.getElementById('occLabel').textContent = occLabel;
        }

        function getEmoji() {
            if (game.age < 2) return 'üë∂';
            if (game.age < 13) return game.gender === 'male' ? 'üë¶' : 'üëß';
            if (game.age < 18) return game.gender === 'male' ? 'üßí' : 'üëß';
            if (game.age < 40) return game.gender === 'male' ? 'üë®' : 'üë©';
            if (game.age < 60) return game.gender === 'male' ? 'üßî' : 'üë©';
            return game.gender === 'male' ? 'üë¥' : 'üëµ';
        }

        function getStatus() {
            if (game.age < 5) return 'Infant';
            if (game.age < 13) return 'Child';
            if (game.age < 18) return 'Teenager';
            if (game.age < 65) return 'Adult';
            return 'Senior';
        }

        function updateStory() {
            let story = `<h3>Age: ${game.age} years</h3>`;
            
            if (game.age === 0) {
                story += `<p>I was born ${game.gender === 'male' ? 'a male' : 'a female'} in ${game.city}, ${game.country}. I was ${Math.random() > 0.7 ? 'an accidental pregnancy' : 'a planned pregnancy'}.</p>`;
                story += `<p>My birthday is ${game.birthMonth} ${rand(1, 28)}. I am ${game.zodiac === 'an' ? 'an' : 'a'} ${game.zodiac}.</p>`;
                story += `<p>My name is ${game.fullName}.</p>`;
                const mom = game.relationships.find(r => r.type === 'Mother');
                const dad = game.relationships.find(r => r.type === 'Father');
                story += `<p>My mother is ${mom.name} (age ${mom.age}).</p>`;
                story += `<p>My father is ${dad.name} (age ${dad.age}).</p>`;
                const siblings = game.relationships.filter(r => r.type === 'Brother' || r.type === 'Sister');
                if (siblings.length > 0) {
                    siblings.forEach(sib => {
                        story += `<p>I have ${sib.type === 'Brother' ? 'a brother' : 'a sister'} named ${sib.name} (age ${sib.age}).</p>`;
                    });
                }
            } else {
                story += `<p>Life is going ${game.happiness > 70 ? 'great' : game.happiness > 40 ? 'okay' : 'rough'}.</p>`;
                if (game.job) {
                    story += `<p>I work as a ${game.job.name}.</p>`;
                }
                if (game.education !== 'None') {
                    story += `<p>My education level: ${game.education}.</p>`;
                }
            }

            document.getElementById('story').innerHTML = story;
        }

        function ageUp() {
            game.age++;

            // Aging effects
            if (game.age > 30) game.health -= rand(1, 3);
            if (game.age > 50) {
                game.health -= rand(2, 5);
                game.looks -= rand(1, 3);
            }
            if (game.age > 70) {
                game.health -= rand(3, 7);
                game.looks -= rand(2, 4);
            }

            // Salary
            if (game.job) {
                const salary = game.job.salary + rand(-3000, 3000);
                game.money += salary;
                addEvent(`You earned ${money(salary)} from your job.`, 'positive');
            }

            // Random events
            triggerEvent();

            // Milestones
            if (game.age === 6) addEvent('You started elementary school!', 'positive');
            if (game.age === 18) {
                addEvent('You graduated high school!', 'positive');
                showEducationChoice();
            }
            if (game.age === 65 && game.job) {
                game.job = null;
                addEvent('You retired!', 'positive');
            }

            // Death
            if (game.health <= 0 || game.age >= 120) {
                die();
                return;
            }

            const deathChance = game.age > 80 ? (game.age - 80) * 0.01 : 0;
            if (Math.random() < deathChance) {
                die();
                return;
            }

            updateUI();
            updateStory();
            hideAllLists();
        }

        function triggerEvent() {
            let pool = [];
            if (game.age >= 5 && game.age < 13) pool = events.child;
            else if (game.age >= 13 && game.age < 18) pool = events.teen;
            else if (game.age >= 18 && game.age < 65) pool = events.adult;
            else if (game.age >= 65) pool = events.senior;

            if (pool.length > 0 && Math.random() > 0.6) {
                const event = pick(pool);
                applyEffects(event.effects);
                addEvent(event.text, event.effects.happiness > 15 ? 'positive' : event.effects.happiness < -10 ? 'negative' : '');
            }
        }

        function applyEffects(effects) {
            for (let key in effects) {
                if (key === 'money') {
                    game.money = Math.max(0, game.money + effects[key]);
                } else if (game.hasOwnProperty(key)) {
                    game[key] = clamp(game[key] + effects[key]);
                }
            }
            updateUI();
        }

        function addEvent(text, type = '') {
            const section = document.getElementById('eventsSection');
            section.classList.add('active');
            
            const event = document.createElement('div');
            event.className = 'event-item ' + type;
            event.innerHTML = `<div class="event-text">${text}</div>`;
            section.insertBefore(event, section.firstChild);

            while (section.children.length > 10) {
                section.removeChild(section.lastChild);
            }
        }

        function showActivities() {
            hideAllLists();
            const list = document.getElementById('activitiesList');
            list.classList.add('active');
            list.innerHTML = '';

            activities.forEach(act => {
                if (game.age < (act.minAge || 0)) return;

                const div = document.createElement('div');
                div.className = 'activity-item';
                div.onclick = () => doActivity(act);

                let desc = act.name;
                let costHtml = act.cost ? `<div class="activity-cost">$${act.cost.toLocaleString()}</div>` : '';

                div.innerHTML = `
                    <div class="activity-icon">${act.icon}</div>
                    <div class="activity-text">
                        <div class="activity-name">${act.name}</div>
                        ${costHtml}
                    </div>
                `;
                list.appendChild(div);
            });
        }

        function doActivity(act) {
            if (act.cost && game.money < act.cost) {
                addEvent(`You can't afford ${act.name}!`, 'negative');
                return;
            }

            if (act.cost) game.money -= act.cost;
            applyEffects(act.effects);
            addEvent(`You did: ${act.name}`, 'positive');
            hideAllLists();
        }

        function showRelationships() {
            hideAllLists();
            const list = document.getElementById('relationshipsList');
            list.classList.add('active');
            list.innerHTML = '';

            game.relationships.forEach(rel => {
                const div = document.createElement('div');
                div.className = 'rel-item';

                const emoji = rel.gender === 'male' ? 'üë®' : 'üë©';

                div.innerHTML = `
                    <div class="rel-icon">${emoji}</div>
                    <div class="rel-info">
                        <div class="rel-name">${rel.name}</div>
                        <div class="rel-type">${rel.type} (Age ${rel.age})</div>
                    </div>
                    <div class="rel-bar">
                        <div class="rel-fill" style="width: ${rel.level}%"></div>
                    </div>
                `;
                list.appendChild(div);
            });
        }

        function showOccupation() {
            if (game.age >= 18) {
                if (game.job) {
                    showModal('Your Job', '', `
                        <div style="text-align: center; padding: 20px;">
                            <h3>${game.job.name}</h3>
                            <p style="color: #16a34a; font-size: 1.2rem; margin-top: 10px;">${money(game.job.salary)}/year</p>
                        </div>
                        <div class="choice-item" onclick="quitJob()">
                            <div class="choice-text">‚ùå Quit Job</div>
                        </div>
                        <button class="close-btn" onclick="closeModal()">Close</button>
                    `);
                } else {
                    showJobs();
                }
            } else if (game.age >= 5) {
                showModal('School', 'You are currently in school', `
                    <p style="padding: 20px; text-align: center;">Study hard to improve your smarts!</p>
                    <button class="close-btn" onclick="closeModal()">Close</button>
                `);
            } else {
                showModal('Infant', 'You are too young', `
                    <p style="padding: 20px; text-align: center;">Enjoy being a baby!</p>
                    <button class="close-btn" onclick="closeModal()">Close</button>
                `);
            }
        }

        function showJobs() {
            hideAllLists();
            const list = document.getElementById('jobsList');
            list.classList.add('active');
            list.innerHTML = '';

            const available = [];
            for (let name in jobs) {
                const job = jobs[name];
                if (job.req.education === 'University' && game.education !== 'University') continue;
                if (job.req.education === 'High School' && game.education === 'None') continue;
                if (job.req.smarts && game.smarts < job.req.smarts) continue;
                if (job.req.health && game.health < job.req.health) continue;
                available.push({ name, ...job });
            }

            if (available.length === 0) {
                list.innerHTML = '<p style="padding: 20px; text-align: center;">No jobs available. Improve your education!</p>';
            } else {
                available.forEach(job => {
                    const div = document.createElement('div');
                    div.className = 'job-item';
                    div.onclick = () => getJob(job);
                    div.innerHTML = `
                        <div class="job-name">${job.name}</div>
                        <div class="job-salary">${money(job.salary)}/year</div>
                    `;
                    list.appendChild(div);
                });
            }
        }

        function getJob(job) {
            game.job = { name: job.name, salary: job.salary };
            addEvent(`You got hired as a ${job.name}!`, 'positive');
            hideAllLists();
            updateUI();
        }

        function quitJob() {
            game.job = null;
            addEvent('You quit your job.', 'negative');
            closeModal();
            updateUI();
        }

        function showEducationChoice() {
            showModal('Education', 'What do you want to do?', `
                <div class="choice-item" onclick="chooseUni()">
                    <div class="choice-text">üéì Go to University ($50,000)</div>
                </div>
                <div class="choice-item" onclick="chooseWork()">
                    <div class="choice-text">üíº Start Working</div>
                </div>
            `);
        }

        function chooseUni() {
            if (game.money >= 50000 && game.smarts >= 60) {
                game.money -= 50000;
                game.education = 'University';
                game.smarts = clamp(game.smarts + 25);
                game.inSchool = false;
                addEvent('You enrolled in university!', 'positive');
                closeModal();
                updateUI();
            } else if (game.money < 50000) {
                addEvent('You need $50,000 for university!', 'negative');
            } else {
                addEvent('Your grades are not good enough!', 'negative');
            }
        }

        function chooseWork() {
            game.education = 'High School';
            game.inSchool = false;
            addEvent('You started working!');
            closeModal();
            updateUI();
        }

        function showAssets() {
            showModal('Assets', 'Your possessions', `
                <p style="padding: 20px; text-align: center;">You don't own any assets yet. Save money to buy property!</p>
                <button class="close-btn" onclick="closeModal()">Close</button>
            `);
        }

        function hideAllLists() {
            document.getElementById('activitiesList').classList.remove('active');
            document.getElementById('relationshipsList').classList.remove('active');
            document.getElementById('jobsList').classList.remove('active');
        }

        function showModal(title, subtitle, body) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalSubtitle').textContent = subtitle;
            document.getElementById('modalBody').innerHTML = body;
            document.getElementById('modal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        function die() {
            const causes = [
                'You passed away peacefully.',
                'You died from natural causes.',
                'Your health declined and you passed away.',
                'You lived a full life.'
            ];

            document.getElementById('deathMsg').textContent = pick(causes);
            document.getElementById('finalAge').textContent = game.age + ' years';
            document.getElementById('finalMoney').textContent = money(game.money);
            document.getElementById('finalCareer').textContent = game.job ? game.job.name : 'Unemployed';
            document.getElementById('finalHappy').textContent = Math.floor(game.happiness) + '%';

            switchScreen('deathScreen');
        }

        // Close modal on click
        document.getElementById('modal').onclick = (e) => {
            if (e.target.id === 'modal') closeModal();
        };
    </script>
</body>
</html>